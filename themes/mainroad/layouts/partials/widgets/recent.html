{{- if .Site.Params.widgets.recent_articles }}
    {{ if .CurrentSection }}
        <div class="widget-recent widget">
            <h4 class="widget__title">{{ T "recent_title" }}</h4>
            <div class="widget__content">
                <ul class="widget__list">
                    {{- $recent_articles_num := (.Site.Params.widgets.recent_articles_num | default 10) }}
                    {{- range first $recent_articles_num (where .Site.RegularPages "Section" "in" (slice .CurrentSection.Type )) }}
                    <li class="widget__item"><a class="widget__link" href="{{ .RelPermalink }}">{{ .Title }}</a></li>
                    {{- end }}
                </ul>
            </div>
        </div>
    {{ else }}
        Error: trying to render recent_articles widget, but no section set.
    {{ end }}
{{ end }}

